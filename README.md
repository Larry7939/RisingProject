  # today_house_test_Android_Larry
  
  2021 - 08 - 14
  진행현황(5%)
   - Splash화면 구성 및 로그인 화면 구성완료

  예정사항
   - API명세서 전달받는대로 로그인 API 적용 예정
   - 이메일로 로그인 & 가입 화면 레이아웃 구성
   - 카카오톡 회원가입 레이아웃 구성(이메일과 별명가져와서 입력란에 자동 채워넣기는 API적용하면서 구현)


  서버개발자와의 협의사항
   - 서버 개발자와의 협의 중, 홈 화면 상에서 구현할 수 있는 기능 중, 스토어로 연결되는 부분은 퍼블리싱만 하고, 
     picpic프로그램으로 캡쳐, 컴퓨터 재부팅과 그래픽 드라이버 업데이트, 모니터 설정을 시도해보았으나, 아직 미해결 
     --> 다른 캡쳐 프로그램을 찾거나 휴대폰에서 캡쳐한 이미지를 가져오는 방법 시도할 예정

  예정사항
   - API명세서 전달받는대로 로그인 API 적용 예정
   - 이메일로 로그인 & 가입 화면 레이아웃 구성
   - 카카오톡 회원가입 레이아웃 구성(이메일과 별명가져와서 입력란에 자동 채워넣기는 API적용하면서 구현)

2021 - 08 - 15
  진행현황(20%)
    - 비밀번호 및 비밀번호 확인 적합성 검사 기능 구현 및 별명 검사기능 구현
    - 약관동의 체크박스, 필수 및 선택사항 구분하여 검사기능 구현

  예정사항
    - 로그인 액티비티 완성하는 대로 strings 파일에 정리 예정
    - 8/16에 서버 열리는 대로 로그인/회원가입 기능 적용 예정

  이슈 및 애로사항
   - Splash 화면 상의 텍스트 "오늘의 집" 폰트 찾지 못함
   - 화면 캡쳐시 색이 바래져서 캡쳐되는 현상은 휴대폰에서 캡쳐한 이미지를 가져오는 방법으로 해결

  예정사항
    - 로그인 액티비티 완성하는 대로 strings 파일에 정리 예정
    - 8/16에 서버 열리는 대로 로그인/회원가입 기능 적용 예정

2021 - 08 - 16
  진행현황(30%)
    - MainActivity에서 뒤로가기 키를 누르면 LoginActivity로 가는 것을 방지하기 위해, 앱을 종료하도록 구현.
    - MainAcitivity에서 뒤로가기키를 일정 시간 내에 두번 눌러야 앱이 종료되도록 구현

  예정사항
    - 커스텀 로딩 창 구현 예정
    - 카카오 로그인 API 적용 예정(추가 정보 입력 액티비티 구현)
    - 로그인 액티비티 완성하는 대로 strings 파일에 정리 예정
    - 개발자 도구 활용하여 폰트 구할 예정

  이슈 및 애로사항
    - splash화면의 오늘의 집 폰트는, 홈페이지의 개발자 도구에 들어가서 확인한 결과, 텍스트가 아닌 이미지로 만들어져있었기 때문에, 폰트찾기는 중단하고, 이미지로 대체하여 해결
    - 이메일로 회원가입 화면에서 경고 표시에 따른 회원가입 완료 버튼의 활성화 여부를 결정짓는 것이 매우 까다로웠음. 각 함수간의 종속성을 그려보면서 해결
    - git push가 제대로 되지 않는 문제 발생. 임시 방편으로 $ git push -u origin +master 명령어를 사용해 강제로 push를 하여 해결
    - readme 작성 시 줄바꿈이 제대로 되지 않는 문제 발생


  예정사항
    - 커스텀 로딩 창 구현 예정
    - 카카오 로그인 API 적용 예정(추가 정보 입력 액티비티 구현)
    - 로그인 액티비티 완성하는 대로 strings 파일에 정리 예정
    - 개발자 도구 활용하여 폰트 구할 예정

2021 - 08 - 17
  1차 피드백 내용
    - 아직 개발 되지 않은 API에 해당하는 기능을 사용하는 화면은 틀만이라도 미리 만들어놓기
    - 서버에서 넘겨주지 않은 부분이라고 해도, 내가 자체적으로 더미데이터를 만들어서라도 최대한 많이 보여줄 수 있도록 하자.
    
  진행현황(40%)
  
  카카오 로그인/회원가입 API적용
    - API 구성요소 구현
    - 카카오 회원가입 시, 권한 동의 및 추가 정보 입력 액티비티 만들기
    - UserApiClient를 활용하여 KakaoAddInfo의 email에 text set (추후에도 활용예정)
    - LoginActivity에서 액세스 토큰 넘겨받고, kakaosignup 폴더 이하 파일들(API 구성요소)에서 액세스 토큰을 서버에 전송하고 jwt수신 후, sp에 저장하도록 구현
    - jwt의 유무에 따라서 자동로그인 여부 결정
    - kakao developers에서 아이콘 및 앱 이름 설정
    - 카카오로 계속하기 버튼 클릭 시, 회원가입과 로그인 모두 로딩창 표시 및 text set

  예정사항
    - 로그인에서 활용한 strings 정리
    - 개발자 도구 활용하여 홈 화면 구성 폰트 예정
    - 홈화면 레이아웃 구성(바텀 네비게이션 뷰 및 Floating Button 보류)


  이슈 및 애로사항
    - git push를 $ git push -u origin +master 명령어를 이용해 강제로 하면 readme가 누락되는 문제 발생 -> 권한을 받아서 default branch를 main으로 변경 후 해결
    - 액세스 토큰을 받아서 서버로 전송 후, jwt를 받아내서 회원가입 / 자동로그인 여부 결정과, jwt의 저장 방법 등을 구현하는 데에 매우 어려움을 겪음
        -> 그림을 그려서 시각화한 후 해결

  예정사항
    - 로그인에서 활용한 strings 정리
    - 개발자 도구 활용하여 홈 화면 구성 폰트 구할 예정
    - 홈화면 레이아웃 구성(바텀 네비게이션 뷰 및 Floating Button 보류)

2021 - 08 - 18
  진행현황(48%)

  개발자 도구 활용하여 홈 화면 구성 폰트 정리완료

  홈 화면 검색창 및 탭 레이아웃 구성
    - 모든 탭(6개)에 Fragment적용 및 Adapter 생성 후, 스와이프로 탭 전환할 수 있게끔 ViewPager 적용

  이메일 중복 검사 API 적용
    - API 구성요소 구현
    - try함수 호출 하여 이메일을 서버에 전송하고, 중복 코드(3001)가 오면 중복 여부를 확인하는 boolean 변수에 true/false 저장
    - TextWatcher와 서버 통신 시간을 고려한 handler.postDelay를 활용하여 중복검사 및 경고표시 기능 구현

  이슈 및 애로사항
    - tablayout 사용 시, 각 tab item의 길이가 일정해져서 tab item의 text가 두줄로 표시됨 
      -> 이 문제를 해결하기 위해 tabMode를 fixed에서 scrollable로 변경 -> text가 짧은 tab item의 width도 길기 때문에, 마지막 tab item이 화면 밖으로 나가는 문제 발생
      -> LayoutParams로 width조정하여 해결
    - TabLayout을 각 탭에 해당하는 Fragment와 ViewPager를 연결하여 사용 시, id관련 문제 발생 -> 레퍼런스(https://clgnsdl94.tistory.com/19) 참고하여 해결 
    - 중복되는 이메일을 입력한 시점에 경고가 뜨지 않고, 어떤 문자든 한번 더 입력해야만 경고를 표시하는 문제 발생
      -> before, on, after TextChanged 등 모두에서 서버에 중복 여부를 검사한 후, 받는 응답코드를 이용하여 경고표시를 적용하였으나, 동일한 문제 발생
      -> 토스트 메시지를 사용하여 중복 여부 확인 변수에 한 타이밍 늦게 중복 검사 결과가 담기는 현상 확인
      -> 로그를 찍어서 확인해본 결과, 서버에서 결과를 받아오는 것보다 경고 표시 함수가 먼저 호출되는 현상 확인
      -> 서버에서 결과를 가져와서 변수에 저장하기까지의 통신 딜레이를 고려하지 못함으로써 발생한 문제
      -> 서버 통신 try함수와 경고 표시 함수에 handler.postDelay를 활용하여 중복검사 및 경고표시 기능 구현함으로써 해결

  예정사항
    - 별명 중복 검사 API적용 예정
    - 로그인에서 활용한 strings 정리
    - '인기' 탭에 해당하는 Fragment 구성 예정

2021 - 08 - 19
  진행현황(54%)
  
  로그인에서 사용한 strings 정리완료
  인기탭 자동 스크롤 ViewPager 구현완료
    - 무한스크롤 및 페이지 번호 표시 기능 구현
    - 5초 주기로 자동 스크롤 기능 구현
    - 뷰페이저를 드래그하는 도중에는 자동스크롤 되지 않도록 구현
  인기탭 내부 버튼 8개 레이아웃 구현
  
  이슈 및 애로사항
    - 뷰페이저 이미지가 붙어서 표시되는 문제 발생 -> item의 ImageView의 width와 height 조정해서 해결
    - 뷰페이저 이미지에 background 속성을 설정해도 모서리가 둥글게 적용되지 않는 문제 발생 -> ImageView를 CardView안에 넣어서 해결
    - 뷰페이저 스크롤 시, 오른쪽으로만 Item이 생성되어, 왼쪽으로는 무한 스크롤 되지 않는 문제 발생 -> Item 개수를 Int.maxValue으로 지정하고, 현재 페이지 위치를 1700에 위치시켜 해결
    - 다른 탭을 클릭하여 Fragment전환한 후에 다시 돌아왔을 때, 뷰페이저의 페이지 번호가 자동으로 1이 되는 문제 발생 -> SharedPreference 사용하여 해결
    - 직접 뷰페이저를 드래그했을 때, 자동스크롤이 작동하면 엉뚱한 페이지를 select하는 문제 발생 -> 자동스크롤의 position이 드래그에 맞춰 함께 변하도록 구현하여 해결
    
  예정사항
    - 인기 탭 레이아웃 구성

2021 - 08 - 20
  진행현황(58%)
    상단 검색창 collapsing 적용완료
    '인기'탭 레이아웃 구성
      '오늘의 스토리'
      '카테고리별 상품찾기'
      '오늘의 딜' 레이아웃 구성
        - timer 기능 구현
  
  이슈 및 애로사항
    - 다른 프레그먼트를 시작하고 다시 돌아왔을 때, 타이머가 중복실행되는 문제 -> timerTask로 타이머 동작을 묶고, timer가 null이 아니면 timer를 cancle하도록 구현해서 해결
    
  예정사항
    - 타이머가 onPause상태에서도 계속 동작하도록 구현 예정
    - '오늘의 인기사진' 레이아웃 구성
    - '유저들의 인테리어 시공 리뷰' 레이아웃구성
  
2021 - 08 - 21
  진행현황(61%)
    - 오늘의 인기사진 레이아웃 구성
    - 유저들의 인테리어 시공 리뷰 레이아웃 구성
    - 오늘의 기획전 레이아웃 구성
  
  이슈 및 애로사항
    - '인기' 프래그먼트에 진입해서 '오늘의 딜' 타이머를 작동시키고, 다른 프래그먼트로 이동하면 앱이 강제종료되는 문제 발생
      -> 다른 프래그먼트로 진입한 상태에서 binding동작을 하면 NPE가 발생하면서 앱이 강제종료 
      -> 화면에 보이는 타이머를 갱신하며 표시하는 binding 동작은 onResume에서 동작을 시작하고, onPause상태가 되면, 지금까지 갱신한 시간(초)를 다른 타이머에 넘겨줘서, 
         해당 타이머에서는 binding동작 없이 시간 갱신만 하도록 구현. onResume이 되면 다른 타이머에서 화면에 보여주는 타이머에게 갱신된 시간(초)을 넘겨준다.
    - 화면에 레이아웃이 많이 쌓이게 되면서, margin이나 size등의 변화를 관찰하기 위해 프리뷰를 스크롤하는 시간이 지나치게 길어지고, 
      매번 변화가 있을 때마다 스크롤이 맨 위로 갱신되는 심각한 문제 발생 
      -> 다른 temp 레이아웃을 만들어서, 여기에서 레이아웃을 만들고, 원래 레이아웃에 붙여넣는 방식을 사용하여 해결 
  
  예정사항
    - 베스트 레이아웃 구성(TabLayout과 ViewPager를 활용한 구현 예정)
    - '인기' 프래그먼트 레이아웃 완성
    - '인기'탭 조회 API 적용 예정
    
2021 - 08 -22
  진행현황(66%)
    - 베스트 레이아웃 구성
    - TabLayout과 ViewPager연결 구현
    - 인기탭 하단부 레이아웃 구성(베스트 이하 레이아웃)
    - 인기탭 조회 API적용(진행중)
    
  이슈 및 애로사항
    - git push가 제대로 되지 않고, 강제로 push하면 readme의 내용 일부가 사라지는 문제->매번 깃허브와 연결된 폴더 내부의 readme까지 삭제하고, 진행중이던 내용을 붙여넣기 한 것이 문제였음
    - TabLayout과 연결된 뷰페이저 구현 시, 탭이 너무 많다보니 MainActivity에서 구현했던 것 처럼 각 탭마다의 Fragment를 만들어서 FragmentAdapter를 사용할 수가 없는 문제
      ->Custom Adapter인 PopularityVPAforBest를 사용하여 뷰페이저와 이미지 리스트를 연결하고, TabLayoutMediator를 활용하여 TabLayout과 뷰페이저를 연결하여 해결
    - 뷰페이저의 한 페이지당 이미지가 3개가 들어가고, 이미지가 총 51개로 굉장히 많다보니, 서버에서 이미지를 받아와서 적절한 position에 위치시키는 것이 매우 까다로웠음
      ->일일이 Log를 찍어가며 해결
      
  예정사항
    - 인기탭 조회 API적용하기
      서버 개발자와의 협의사항 -> 인기탭 조회 API에서 '카테고리별 상품 찾기'에 해당하는 이미지들은 서버에서 받아오지 않고, 클라이언트에서 더미 데이터로 구성하기로 협의
    - '오늘의 인기사진'의 좋아요, 스크랩 기능 구현
    - 집들이 Fragment 레이아웃 구성
  
2021 - 08 - 23
  진행현황(69%)
    - 인기탭 조회 API 적용완료
      ->  '베스트'섹션의 상품 text채워넣기 -> BestInfo dataclass 만들고, 이를 원소로 하는 bestInfoList생성, popSetting에서 bestInfoList arrayList에 17개 채워넣음.
    - 집들이 프레그먼트 레이아웃 구성(진행중)
  
  이슈 및 애로사항
    - 하단 '베스트' 섹션에 Glide 라이브러리 활용해서 url -> 이미지 변환 후 삽입 시도
      ->  Glide라이브러리를 쓰면, url을 반드시 Imageview로 받아와야하는 문제 발생
      ->  받아온 ImageView를 int배열인 bestList에 넣기 위해, int로 변환하려 했으나, 제대로 변환되지 않아 실패
      ->  bestList를 ImageView배열로 만들고 임시 이미지 뷰 변수에 이미지를 할당 한 뒤, 배열에 넣도록 구현시도 -> 어댑터에서 ImageView를 binding.Imageview에 넣을 수 없어 실패
      ->  bestList를 drawable 배열로 만들고, url로부터 받아온 이미지를 임시 이미지뷰에 넣은 다음, 이 이미지뷰를 drawable로 변경시켜서 배열에 담고, 어댑터의 setBackgroundResource를  
          setBackgroundResource로 변경시킴 
      -> Log를 찍으면 분명 임시 이미지뷰가 drawable로 변경되지만, 이를 bestList에 삽입하는 코드인 bestList[3]=iv.drawable을 추가하면, null이 찍히는 문제가 발생하여 실패
      -> iv.drawable 뒤에 current를 추가하여 해결된듯 했지만, 두번째 실행부터는 정상동작하고 첫번째 동작에서는 여전히 null이 들어가는 문제 발생
      -> 서버에서 리소스를 받아오고 drawable로 변경시키는 과정. 즉 네트워크 작업이 비동기적으로 이루어지지 않아서 발생하는 문제라고 인식 
      -> Glide는 포기하고, 코드 전면수정 이미지 배열과 어댑터의 drawable로 되어있는 것들을 전부 Bitmap으로 변경한 후, 
         코루틴과 ImageLoader를 사용해서 네트워크 비동기 작업을 수행하여 해결
      -> 뷰페이저 첫번째 화면이 앱 구동 즉시 표시되지 않고, 다른 탭으로 이동했다가 다시 돌아와야만 표시되는 문제 발생
      -> Thread.sleep으로 받아온 이미지가 UI에 적용될 수 있도록 딜레이를 줘서 실행되도록 구현하여 해결 
  
  예정사항
    - 집들이 프레그먼트 레이아웃 구현 예정
    - Bottom Navigation View 구현 예정


2021 - 08 - 24
  진행현황(73%)
    - 집들이 프래그먼트 레이아웃 구성 완료
      -> 버튼 눌러서 게시글을 일렬로, 또는 4개씩 보여주도록 구현
    - 하단 메뉴 바 구성
    - 집들이 상세페이지 DetailActivity만들고 레이아웃 구성
      -> 집들이에서 상세페이지에 진입하면 fullscreen이 되도록 구현
    - 집들이 게시물 조회 API 적용완료
    - 특정 상품 조회 API적용완료
  
  2차 피드백 내용
    - API 적용 개수 부족함. 20개까지 늘릴 것
    - 상품 상세페이지로 넘어가는 부분 구현 및, 장바구니로 넘어가고, 장바구니에서 담은 상품을 확인할 수 있도록 구현할 것
    - 스토어를 구현하지 못하더라도, 디테일보다는 중심이 되는 기능 구현 필요
    - 금요일 정오에 영상제출 예정 -> 최대한 모든 기능이 보이게끔 영상 촬영
  
  이슈 및 애로사항
    - 집들이 게시물 조회 API에서 Response를 구현 중, plugin을 사용해도 data class로 제대로 변환되지 않는 문제 발생
      -> 서버 개발자에게 형식 수정 요청
      -> 수정이 어려울 것 같다 하여, 미리보기 하단의 상품사진들 및 댓글은 더미데이터로 채우기로 결정
  
  예정사항
    - ProductActivity완성 및 전체 집들이 게시물 조회 API 적용예정
    - 장바구니 기능 액티비티 구현 예정



2021 - 08 - 24
  진행현황(78%)
    - ProductActivity(90%)완성
      ->  레이아웃 구성 완료
      ->  TabLayout에 프래그먼트 추가하고 collapsing 적용완료
      ->  액티비티에서 try로 이미지 url받아서 프래그먼트로 보내주고, 프래그먼트에서 이미지 세팅
      ->  제품 상세정보 펼치기 버튼 구현
  
  이슈 및 애로사항
    - background 이미지와 TabLayout에 collapsing 적용하는 것이 매우 까다로웠음.
    - 액티비티에서 프래그먼트로 이미지 URL을 보내야하는데, 데이터 전송에 어려움을 겪음 -> intent가 아니라, bundle에 ArrayList<String>으로 담아서 전송해서 해결
    
  예정사항
    - 구매하기 버튼 누르면 다이얼로그 펼쳐지도록 구현예정
    - 장바구니 구현 예정
    - API 추가 적용 예정 

2021 - 08 -25
  진행현황(88%)
    - ProductActivity완성
    - 구매하기 버튼 클릭 시, 옵션 설정창 레이아웃 및 기능 구현완료
      -> '색상' 옵션을 누르면 애니메이션과 함께 scrollview 표시
      -> '+','-' 버튼을 누르면 상품 개수 변경 및 금액도 변경
    - 장바구니 구현 완료
      -> 장바구니 담기 완료 시, 이미지뷰 애니메이션 표시
      -> 장바구니에 담을 때 입력한 정보 + productId를 이용해서 상품정보 전달
  
  이슈 및 애로사항
    - 스크롤뷰는 클릭리스너가 제대로 적용되지 않는 문제 발생
      -> 내부 텍스트뷰에 리스너 달고, 애니메이션은 스크롤뷰에 적용
  
  예정사항
    - 장바구니 ui 다듬기
    - API 추가 적용 예정 
    - 마이페이지 액티비티 구현
